<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login</title>
    <link rel="stylesheet" href="/css/dist/index.css" />
    <script>
      window.addEventListener("DOMContentLoaded", () => {
        const errorMessage = document.getElementById("error-message");
        const successMessage = document.getElementById("success-message");

        if (errorMessage) {
          setTimeout(() => {
            errorMessage.classList.add("opacity-0");
            setTimeout(() => errorMessage.remove(), 300);
          }, 1200);
        }

        if (successMessage) {
          setTimeout(() => {
            successMessage.classList.add("opacity-0");
            setTimeout(() => successMessage.remove(), 300);
          }, 1200);
          setTimeout(() => {
            window.location.href = "/home";
          }, 1200);
        }
      });
    </script>
  </head>
  <body class="bg-gray-100 h-screen flex items-center justify-center">
    <% if (errorMessage) { %>
    <div
      id="error-message"
      class="fixed top-4 right-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-md transition-opacity duration-300 opacity-100"
      role="alert"
    >
      <strong class="font-bold">Erro:</strong>
      <span class="block sm:inline"><%= errorMessage %></span>
    </div>
    <% } %> 
    <% if (successMessage) { %>
    <div
      id="success-message"
      class="fixed top-4 right-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded shadow-md transition-opacity duration-300 opacity-100"
      role="alert"
    >
      <strong class="font-bold">Sucesso:</strong>
      <span class="block sm:inline"><%= successMessage %></span>
    </div>
    <% } %>
    <div
      class="w-full max-w-md flex bg-white shadow-lg rounded-lg overflow-hidden"
    >
      <div class="w-full p-8">
        <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">
          Faça Login
        </h2>
        <form action="/login" method="POST">
          <div class="mb-4">
            <label for="email" class="block text-gray-700">Email</label>
            <input
              type="email"
              id="email"
              name="email"
              class="w-full p-3 mt-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
              placeholder="Digite seu email"
              required
            />
          </div>
          <div class="mb-6">
            <label for="senha" class="block text-gray-700">Senha</label>
            <input
              type="password"
              id="senha"
              name="senha"
              class="w-full p-3 mt-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
              placeholder="Digite sua senha"
              required
            />
          </div>
          <div class="mb-6 text-center">
            <p class="text-sm text-gray-600">
              Ainda não tem uma conta?
              <a href="/cadastro" class="text-blue-600 hover:text-blue-800"
                >Crie sua conta</a
              >
            </p>
          </div>
          <button
            type="submit"
            class="w-full py-3 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none"
          >
            Entrar
          </button>
        </form>
      </div>
    </div>
  </body>
</html>
